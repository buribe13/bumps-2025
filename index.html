<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta
      http-equiv="Cache-Control"
      content="no-cache, no-store, must-revalidate"
    />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <title>bumps, your spotify fortune teller</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸŽµ</text></svg>">
    <link
      rel="preload"
      href="./Fonts/Ac437_IBM_DOS_ISO9 copy.ttf"
      as="font"
      type="font/ttf"
      crossorigin
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Teko:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="./styles.css" />
    <!-- Load config.js first (gitignored, contains API keys) -->
    <script src="./config.js"></script>
  </head>
  <body>
    <div class="auth-bar" hidden>
      <button id="loginButtonAuthBar" type="button">Connect Spotify</button>
      <button id="logoutButtonAuthBar" type="button" hidden>Disconnect</button>
      <span class="auth-separator" style="display: none">â‹…</span>
      <span id="authStatus" style="display: none">Connected</span>
    </div>

    <main class="frame-root" aria-label="MacBook Pro 16 - 1">
      <div class="frame-grid">
        <section class="left-stack" aria-label="Songs">
          <div class="now-playing-pill board-container">
            <div class="board dot-matrix-display">
              <div class="board__content display-text">
                <div class="text-track">
                  <div class="text">SONG NAME / 0:24</div>
                  <div class="text text--clone">SONG NAME / 0:24</div>
                </div>
              </div>
            </div>
          </div>

          <div class="song-cards">
            <article class="song-card">
              <div class="song-row">
                <div class="song-meta">
                  <div class="song-title">â€”</div>
                  <div class="song-artist">â€”</div>
                </div>
                <div class="song-art">
                  <span class="song-badge song-badge-gold">1</span>
                </div>
              </div>
              <button class="listen-btn" type="button">
                <span>Listen</span>
                <svg
                  class="arrow"
                  width="20"
                  height="20"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                  aria-hidden="true"
                >
                  <path
                    d="M9 6L15 12L9 18"
                    stroke="white"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                </svg>
              </button>
            </article>

            <article class="song-card dimmed">
              <div class="song-row">
                <div class="song-meta">
                  <div class="song-title">â€”</div>
                  <div class="song-artist">â€”</div>
                </div>
                <div class="song-art">
                  <span class="song-badge song-badge-silver">2</span>
                </div>
              </div>
              <button class="listen-btn" type="button">
                <span>Listen</span>
                <svg
                  class="arrow"
                  width="20"
                  height="20"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                  aria-hidden="true"
                >
                  <path
                    d="M9 6L15 12L9 18"
                    stroke="white"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                </svg>
              </button>
            </article>

            <article class="song-card dimmed">
              <div class="song-row">
                <div class="song-meta">
                  <div class="song-title">â€”</div>
                  <div class="song-artist">â€”</div>
                </div>
                <div class="song-art">
                  <span class="song-badge song-badge-bronze">3</span>
                </div>
              </div>
              <button class="listen-btn" type="button">
                <span>Listen</span>
                <svg
                  class="arrow"
                  width="20"
                  height="20"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                  aria-hidden="true"
                >
                  <path
                    d="M9 6L15 12L9 18"
                    stroke="white"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                </svg>
              </button>
            </article>
          </div>
        </section>

        <aside class="journal-card" aria-label="Your Latest Reading">
          <h1 class="journal-title">Your Latest Reading</h1>
          <p class="journal-text">-</p>
          <div class="journal-date">-</div>
        </aside>

      </div>
    </main>

    <!-- Gradient Customizer Overlay -->
    <div class="gradient-customizer-overlay" hidden aria-label="Background Customizer">
      <div class="gradient-customizer-card">
        <div class="customizer-header">
          <h2 class="customizer-title">Background</h2>
          <button
            class="customizer-close"
            type="button"
            aria-label="Close customizer"
            id="closeCustomizer"
          >
            <svg
              width="20"
              height="20"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
              aria-hidden="true"
            >
              <path
                d="M18 6L6 18M6 6L18 18"
                stroke="white"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
          </button>
        </div>
          <div class="customizer-controls">
            <div class="color-control-group">
              <label class="color-label">Color 1</label>
              <div class="color-input-wrapper">
                <input
                  type="color"
                  id="color1"
                  class="color-picker"
                  value="#fefefe"
                />
                <input
                  type="text"
                  id="color1-text"
                  class="color-text-input"
                  value="#fefefe"
                />
              </div>
            </div>
            <div class="color-control-group">
              <label class="color-label">Color 2</label>
              <div class="color-input-wrapper">
                <input
                  type="color"
                  id="color2"
                  class="color-picker"
                  value="#fff5f5"
                />
                <input
                  type="text"
                  id="color2-text"
                  class="color-text-input"
                  value="#fff5f5"
                />
              </div>
            </div>
            <div class="color-control-group">
              <label class="color-label">Color 3</label>
              <div class="color-input-wrapper">
                <input
                  type="color"
                  id="color3"
                  class="color-picker"
                  value="#fff8f8"
                />
                <input
                  type="text"
                  id="color3-text"
                  class="color-text-input"
                  value="#fff8f8"
                />
              </div>
            </div>
          </div>
          <div class="customizer-actions">
            <button class="gradient-btn" type="button" id="applyGradient">
              <span>Apply</span>
              <svg
                class="arrow"
                width="20"
                height="20"
                viewBox="0 0 24 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
                aria-hidden="true"
              >
                <path
                  d="M9 6L15 12L9 18"
                  stroke="white"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </svg>
            </button>
            <button class="gradient-btn" type="button" id="resetGradient">
              <span>Reset</span>
              <svg
                class="arrow"
                width="20"
                height="20"
                viewBox="0 0 24 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
                aria-hidden="true"
              >
                <path
                  d="M9 6L15 12L9 18"
                  stroke="white"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </svg>
            </button>
          </div>
          <div class="preset-selector">
            <div class="preset-label">Presets</div>
            <div class="preset-nav">
              <button
                class="pager-btn left preset-nav-btn"
                type="button"
                aria-label="Previous preset"
                id="prevPreset"
              >
                <svg
                  width="20"
                  height="20"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                  aria-hidden="true"
                >
                  <path
                    d="M15 18L9 12L15 6"
                    stroke="white"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                </svg>
              </button>
              <div class="preset-name" id="presetName">Default</div>
              <button
                class="pager-btn right preset-nav-btn"
                type="button"
                aria-label="Next preset"
                id="nextPreset"
              >
                <svg
                  width="20"
                  height="20"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                  aria-hidden="true"
                >
                  <path
                    d="M9 6L15 12L9 18"
                    stroke="white"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                </svg>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Info Overlay -->
    <div class="info-overlay" hidden aria-label="About">
      <div class="info-card">
        <div class="info-header">
          <h2 class="info-title">About ðŸŽµ</h2>
          <button
            class="info-close"
            type="button"
            aria-label="Close info"
            id="closeInfo"
          >
            <svg
              width="20"
              height="20"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
              aria-hidden="true"
            >
              <path
                d="M18 6L6 18M6 6L18 18"
                stroke="white"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
          </button>
        </div>
        <div class="info-content">
          <p class="info-description">
            bumps is your Spotify fortune tellerâ€”a public diary scored by your top 3 tracks of the day.
          </p>
          <div class="info-section">
            <h3 class="info-subtitle">How it works</h3>
            <ul class="info-list">
              <li>Connect your Spotify account to fetch your most recent tracks</li>
              <li>Your top 3 songs each day inspire AI-generated fortune cookie messages</li>
              <li>Lyrics from your songs help craft personalized daily reflections</li>
            </ul>
          </div>
          <div class="info-section">
            <h3 class="info-subtitle">What you'll see</h3>
            <ul class="info-list">
              <li>Your 3 most recent unique tracks in the left stack</li>
              <li>Daily fortune cookie messages in the journal card</li>
              <li>Beautiful, customizable gradient backgrounds</li>
            </ul>
          </div>
        </div>
      </div>
    </div>

    <!-- Floating Action Buttons -->
    <div class="fab-container">
      <button
        class="fab-btn"
        type="button"
        aria-label="About bumps"
        id="openInfo"
      >
        <svg
          width="20"
          height="20"
          viewBox="0 0 24 24"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          aria-hidden="true"
        >
          <circle
            cx="12"
            cy="12"
            r="10"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
          <path
            d="M12 16v-4M12 8h.01"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
        </svg>
      </button>

      <button
        class="fab-btn"
        type="button"
        aria-label="Customize background"
        id="openCustomizer"
      >
        <svg
          width="20"
          height="20"
          viewBox="0 0 24 24"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          aria-hidden="true"
        >
          <path
            d="M12 2L2 7L12 12L22 7L12 2Z"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
          <path
            d="M2 17L12 22L22 17"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
          <path
            d="M2 12L12 17L22 12"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
        </svg>
      </button>

      <button
        class="fab-btn"
        type="button"
        id="loginButton"
        aria-label="Connect Spotify"
      >
        <svg
          width="20"
          height="20"
          viewBox="0 0 24 24"
          fill="currentColor"
          xmlns="http://www.w3.org/2000/svg"
          aria-hidden="true"
        >
          <path
            d="M12 0C5.4 0 0 5.4 0 12s5.4 12 12 12 12-5.4 12-12S18.66 0 12 0zm5.521 17.34c-.24.359-.66.48-1.021.24-2.82-1.74-6.36-2.101-10.561-1.141-.418.122-.84-.179-.84-.66 0-.359.24-.66.54-.78 4.56-1.021 8.52-.6 11.64 1.32.42.18.479.659.242 1.02zm1.44-3.3c-.301.42-.841.6-1.262.3-3.239-1.98-8.159-2.58-11.939-1.38-.479.12-1.02-.12-1.14-.6-.12-.48.12-1.021.6-1.141C9.6 9.9 15 10.561 18.72 12.84c.361.181.54.78.241 1.2zm.12-3.36C15.24 8.4 8.82 8.16 5.16 9.301c-.6.179-1.2-.181-1.38-.721-.18-.601.18-1.2.72-1.381 4.26-1.26 11.28-1.02 15.721 1.621.539.3.719 1.02.42 1.56-.299.421-1.02.599-1.559.3z"
          />
        </svg>
      </button>

      <button
        class="fab-btn"
        type="button"
        id="logoutButton"
        aria-label="Disconnect Spotify"
        hidden
      >
        <svg
          width="20"
          height="20"
          viewBox="0 0 24 24"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          aria-hidden="true"
        >
          <path
            d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
          <polyline
            points="16 17 21 12 16 7"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
          <line
            x1="21"
            y1="12"
            x2="9"
            y2="12"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
        </svg>
      </button>

      <button
        class="fab-btn"
        type="button"
        id="refreshButton"
        aria-label="Refresh songs"
      >
        <svg
          width="20"
          height="20"
          viewBox="0 0 24 24"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          aria-hidden="true"
        >
          <path
            d="M1 4v6h6"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
          <path
            d="M23 20v-6h-6"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
          <path
            d="M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
        </svg>
      </button>
    </div>

    <section
      id="profile"
      hidden
      aria-label="Spotify Profile"
      style="display: none"
    ></section>

    <script src="./app.js"></script>
  </body>
</html>
